<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Rivage</title>
		<link rel="stylesheet" href="../assets/css/index.css">
	</head>
	<body>
	</body>
	<script>
		// Let use path aliases like src/main-process/windows instead of ../main-process/windows
		require('module-alias/register')
		const App = require('../components/App')
		const { ipcRenderer } = require('electron')
		const { getStore } = require('state/store')
		const { setAddress } = require('state/actions')

		const store = getStore()
		let state = store.getState()

		const app = new App({
      target: document.querySelector('body'),
      data: state
    })

		store.subscribe(() => {
			const nextState = store.getState()

			if (state.files !== nextState.files) {
				app.set({ files: nextState.files })
			}

			state = nextState
		})

	</script>
</html>
